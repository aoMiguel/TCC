{
  "version": 3,
  "sources": ["../../eslint-plugin-react-refresh/index.js"],
  "sourcesContent": ["\"use strict\";\r\nvar __defProp = Object.defineProperty;\r\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\r\nvar __getOwnPropNames = Object.getOwnPropertyNames;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __export = (target, all) => {\r\n  for (var name in all)\r\n    __defProp(target, name, { get: all[name], enumerable: true });\r\n};\r\nvar __copyProps = (to, from, except, desc) => {\r\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\r\n    for (let key of __getOwnPropNames(from))\r\n      if (!__hasOwnProp.call(to, key) && key !== except)\r\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\r\n  }\r\n  return to;\r\n};\r\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\r\n\r\n// src/index.ts\r\nvar src_exports = {};\r\n__export(src_exports, {\r\n  default: () => src_default,\r\n  rules: () => rules\r\n});\r\nmodule.exports = __toCommonJS(src_exports);\r\n\r\n// src/only-export-components.ts\r\nvar possibleReactExportRE = /^[A-Z][a-zA-Z0-9]*$/u;\r\nvar strictReactExportRE = /^[A-Z][a-zA-Z0-9]*[a-z]+[a-zA-Z0-9]*$/u;\r\nvar onlyExportComponents = {\r\n  meta: {\r\n    messages: {\r\n      exportAll: \"This rule can't verify that `export *` only exports components.\",\r\n      namedExport: \"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.\",\r\n      anonymousExport: \"Fast refresh can't handle anonymous components. Add a name to your export.\",\r\n      localComponents: \"Fast refresh only works when a file only exports components. Move your component(s) to a separate file.\",\r\n      noExport: \"Fast refresh only works when a file has exports. Move your component(s) to a separate file.\"\r\n    },\r\n    type: \"problem\",\r\n    schema: [\r\n      {\r\n        type: \"object\",\r\n        properties: {\r\n          allowConstantExport: { type: \"boolean\" },\r\n          checkJS: { type: \"boolean\" },\r\n          allowExportNames: { type: \"array\", items: { type: \"string\" } }\r\n        },\r\n        additionalProperties: false\r\n      }\r\n    ]\r\n  },\r\n  defaultOptions: [],\r\n  create: (context) => {\r\n    const {\r\n      allowConstantExport = false,\r\n      checkJS = false,\r\n      allowExportNames\r\n    } = context.options[0] ?? {};\r\n    const filename = context.getFilename();\r\n    if (filename.includes(\".test.\") || filename.includes(\".spec.\") || filename.includes(\".cy.\") || filename.includes(\".stories.\")) {\r\n      return {};\r\n    }\r\n    const shouldScan = filename.endsWith(\".jsx\") || filename.endsWith(\".tsx\") || checkJS && filename.endsWith(\".js\");\r\n    if (!shouldScan)\r\n      return {};\r\n    const allowExportNamesSet = allowExportNames ? new Set(allowExportNames) : void 0;\r\n    return {\r\n      Program(program) {\r\n        let hasExports = false;\r\n        let mayHaveReactExport = false;\r\n        let reactIsInScope = false;\r\n        const localComponents = [];\r\n        const nonComponentExports = [];\r\n        const handleLocalIdentifier = (identifierNode) => {\r\n          if (identifierNode.type !== \"Identifier\")\r\n            return;\r\n          if (possibleReactExportRE.test(identifierNode.name)) {\r\n            localComponents.push(identifierNode);\r\n          }\r\n        };\r\n        const handleExportIdentifier = (identifierNode, isFunction, init) => {\r\n          if (identifierNode.type !== \"Identifier\") {\r\n            nonComponentExports.push(identifierNode);\r\n            return;\r\n          }\r\n          if (allowExportNamesSet == null ? void 0 : allowExportNamesSet.has(identifierNode.name))\r\n            return;\r\n          if (allowConstantExport && init && (init.type === \"Literal\" || // 1, \"foo\"\r\n          init.type === \"UnaryExpression\" || // -1\r\n          init.type === \"TemplateLiteral\" || // `Some ${template}`\r\n          init.type === \"BinaryExpression\")) {\r\n            return;\r\n          }\r\n          if (isFunction) {\r\n            if (possibleReactExportRE.test(identifierNode.name)) {\r\n              mayHaveReactExport = true;\r\n            } else {\r\n              nonComponentExports.push(identifierNode);\r\n            }\r\n          } else {\r\n            if (init && // Switch to allowList?\r\n            notReactComponentExpression.has(init.type)) {\r\n              nonComponentExports.push(identifierNode);\r\n              return;\r\n            }\r\n            if (!mayHaveReactExport && possibleReactExportRE.test(identifierNode.name)) {\r\n              mayHaveReactExport = true;\r\n            }\r\n            if (!strictReactExportRE.test(identifierNode.name)) {\r\n              nonComponentExports.push(identifierNode);\r\n            }\r\n          }\r\n        };\r\n        const handleExportDeclaration = (node) => {\r\n          var _a, _b;\r\n          if (node.type === \"VariableDeclaration\") {\r\n            for (const variable of node.declarations) {\r\n              handleExportIdentifier(\r\n                variable.id,\r\n                canBeReactFunctionComponent(variable.init),\r\n                variable.init\r\n              );\r\n            }\r\n          } else if (node.type === \"FunctionDeclaration\") {\r\n            if (node.id === null) {\r\n              context.report({ messageId: \"anonymousExport\", node });\r\n            } else {\r\n              handleExportIdentifier(node.id, true);\r\n            }\r\n          } else if (node.type === \"CallExpression\") {\r\n            if (node.callee.type !== \"Identifier\") {\r\n              if (node.callee.type === \"MemberExpression\" && node.callee.property.type === \"Identifier\" && reactHOCs.has(node.callee.property.name)) {\r\n                mayHaveReactExport = true;\r\n              } else {\r\n                context.report({ messageId: \"anonymousExport\", node });\r\n              }\r\n            } else if (!reactHOCs.has(node.callee.name)) {\r\n              context.report({ messageId: \"anonymousExport\", node });\r\n            } else if (((_a = node.arguments[0]) == null ? void 0 : _a.type) === \"FunctionExpression\" && node.arguments[0].id) {\r\n              handleExportIdentifier(node.arguments[0].id, true);\r\n            } else if (((_b = node.arguments[0]) == null ? void 0 : _b.type) === \"Identifier\") {\r\n              mayHaveReactExport = true;\r\n            } else {\r\n              context.report({ messageId: \"anonymousExport\", node });\r\n            }\r\n          } else if (node.type === \"TSEnumDeclaration\") {\r\n            nonComponentExports.push(node.id);\r\n          }\r\n        };\r\n        for (const node of program.body) {\r\n          if (node.type === \"ExportAllDeclaration\") {\r\n            if (node.exportKind === \"type\")\r\n              continue;\r\n            hasExports = true;\r\n            context.report({ messageId: \"exportAll\", node });\r\n          } else if (node.type === \"ExportDefaultDeclaration\") {\r\n            hasExports = true;\r\n            const declaration = node.declaration.type === \"TSAsExpression\" || node.declaration.type === \"TSSatisfiesExpression\" ? node.declaration.expression : node.declaration;\r\n            if (declaration.type === \"VariableDeclaration\" || declaration.type === \"FunctionDeclaration\" || declaration.type === \"CallExpression\") {\r\n              handleExportDeclaration(declaration);\r\n            }\r\n            if (declaration.type === \"Identifier\") {\r\n              handleExportIdentifier(declaration);\r\n            }\r\n            if (declaration.type === \"ArrowFunctionExpression\") {\r\n              context.report({ messageId: \"anonymousExport\", node });\r\n            }\r\n          } else if (node.type === \"ExportNamedDeclaration\") {\r\n            if (node.exportKind === \"type\")\r\n              continue;\r\n            hasExports = true;\r\n            if (node.declaration)\r\n              handleExportDeclaration(node.declaration);\r\n            for (const specifier of node.specifiers) {\r\n              handleExportIdentifier(\r\n                specifier.exported.name === \"default\" ? specifier.local : specifier.exported\r\n              );\r\n            }\r\n          } else if (node.type === \"VariableDeclaration\") {\r\n            for (const variable of node.declarations) {\r\n              handleLocalIdentifier(variable.id);\r\n            }\r\n          } else if (node.type === \"FunctionDeclaration\") {\r\n            handleLocalIdentifier(node.id);\r\n          } else if (node.type === \"ImportDeclaration\" && node.source.value === \"react\") {\r\n            reactIsInScope = true;\r\n          }\r\n        }\r\n        if (checkJS && !reactIsInScope)\r\n          return;\r\n        if (hasExports) {\r\n          if (mayHaveReactExport) {\r\n            for (const node of nonComponentExports) {\r\n              context.report({ messageId: \"namedExport\", node });\r\n            }\r\n          } else if (localComponents.length) {\r\n            for (const node of localComponents) {\r\n              context.report({ messageId: \"localComponents\", node });\r\n            }\r\n          }\r\n        } else if (localComponents.length) {\r\n          for (const node of localComponents) {\r\n            context.report({ messageId: \"noExport\", node });\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n};\r\nvar reactHOCs = /* @__PURE__ */ new Set([\"memo\", \"forwardRef\"]);\r\nvar canBeReactFunctionComponent = (init) => {\r\n  if (!init)\r\n    return false;\r\n  if (init.type === \"ArrowFunctionExpression\")\r\n    return true;\r\n  if (init.type === \"CallExpression\" && init.callee.type === \"Identifier\") {\r\n    return reactHOCs.has(init.callee.name);\r\n  }\r\n  return false;\r\n};\r\nvar notReactComponentExpression = /* @__PURE__ */ new Set([\r\n  \"ArrayExpression\",\r\n  \"AwaitExpression\",\r\n  \"BinaryExpression\",\r\n  \"ChainExpression\",\r\n  \"ConditionalExpression\",\r\n  \"Literal\",\r\n  \"LogicalExpression\",\r\n  \"ObjectExpression\",\r\n  \"TemplateLiteral\",\r\n  \"ThisExpression\",\r\n  \"UnaryExpression\",\r\n  \"UpdateExpression\"\r\n]);\r\n\r\n// src/index.ts\r\nvar rules = {\r\n  \"only-export-components\": onlyExportComponents\r\n};\r\nvar src_default = { rules };\r\n// Annotate the CommonJS export names for ESM import in node:\r\n0 && (module.exports = {\r\n  rules\r\n});\r\n"],
  "mappings": "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",
  "names": []
}
